<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>All Patients</title>
</head>
<body>
    <h1>Welcome to the Stroke Prediction App</h1>

    <!-- Display flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <!-- Form to add a new user -->
    <h2>Add User</h2>
    <form action="/add_user" method="post">
        <label>Username:</label><input type="text" name="username" required><br>
        <label>Email:</label><input type="email" name="email" required><br>
        <label>Password:</label><input type="password" name="password" required><br>
        <button type="submit">Add User</button>
    </form>

    <!-- Form to add a new patient -->
    <h2>Add Patient</h2>
    <form action="/add_patient" method="post">
        <label>Name:</label><input type="text" name="name" required><br>
        <label>Age:</label><input type="number" name="age" required><br>
        <label>Gender:</label>
        <select name="gender" required>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
        </select><br>
        <label>Hypertension:</label><input type="checkbox" name="hypertension"><br>
        <button type="submit">Add Patient</button>
    </form>

    <!-- Section to display patients from SQLite -->
    <h2>Patients from SQLite</h2>
    <ul>
        {% for patient in sqlite_patients %}
            <li>{{ patient.name }}, Age: {{ patient.age }}, Gender: {{ patient.gender }}, Hypertension: {{ patient.hypertension }}</li>
        {% endfor %}
    </ul>

    <!-- Section to display patients from MongoDB -->
    <h2>Patients from MongoDB</h2>
    <ul>
        {% for patient in mongo_patients %}
            <li>{{ patient['name'] }}, Age: {{ patient['age'] }}, Gender: {{ patient['gender'] }}, Hypertension: {{ patient['hypertension'] }}</li>
        {% endfor %}
    </ul>

    <a href="{{ url_for('home') }}">Go Back to Home</a>
</body>
</html>
